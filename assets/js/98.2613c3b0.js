(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{609:function(s,a,e){"use strict";e.r(a);var t=e(2),l=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"webpack-优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack-优化"}},[s._v("#")]),s._v(" webpack 优化")]),s._v(" "),e("h2",{attrs:{id:"一、-代码压缩"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、-代码压缩"}},[s._v("#")]),s._v(" 一、 代码压缩")]),s._v(" "),e("ul",[e("li",[s._v("webpack-parallel-uglify-plugin")]),s._v(" "),e("li",[s._v("uglifyjs-webpack-plugin 开启 parallel 参数（不支持 es6）")]),s._v(" "),e("li",[s._v("terser-webpack-plugin 开启 parallel 参数，多进程压缩")]),s._v(" "),e("li",[s._v("mini-css-extract-plugin 提取 chunk 中的 css 到单独文件")]),s._v(" "),e("li",[s._v("css-assets-webpack-plugin 开启 cssnano")])]),s._v(" "),e("h2",{attrs:{id:"二、-提取公共资源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、-提取公共资源"}},[s._v("#")]),s._v(" 二、 提取公共资源")]),s._v(" "),e("ul",[e("li",[s._v("使用 html-webpack-externals-plugin 将基础包通过 cdn 引入，不打入 bundle 中")]),s._v(" "),e("li",[s._v("使用 splitChunksPlugin 进行（公共脚本、基础包、页面公共文件）分离（webpack 内置）")])]),s._v(" "),e("h2",{attrs:{id:"三、-tree-shaking"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、-tree-shaking"}},[s._v("#")]),s._v(" 三、 tree shaking")]),s._v(" "),e("ul",[e("li",[s._v("purgecss-webapck-plugin 和 mini-css-extract-plugin 配合使用")]),s._v(" "),e("li",[s._v("使用 es6 Module")]),s._v(" "),e("li",[s._v("禁用 babel-loader 的模块依赖解析（否则 webpack 接收的就是 commonjs 形式的模块）")])]),s._v(" "),e("h2",{attrs:{id:"四、-scope-hoisting"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、-scope-hoisting"}},[s._v("#")]),s._v(" 四、 scope hoisting")]),s._v(" "),e("p",[s._v("构建后的代码存在大量 闭包 ，造成体积正大，运行代码时创建的函数作用域变多，内存开销变大")]),s._v(" "),e("p",[s._v("scope hoisting 将所有模块的代码 按照引用顺序放到后一个函数作用域里，然后适当的重命名一些变量防止变量名冲突")]),s._v(" "),e("ul",[e("li",[s._v("必须是 es6 语法")]),s._v(" "),e("li",[s._v("需要配置 mainFilds 对第三方模块采用 jsnext:main 中指向 es6 的语法")])])])}),[],!1,null,null,null);a.default=l.exports}}]);