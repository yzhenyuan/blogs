(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{620:function(v,_,t){"use strict";t.r(_);var l=t(2),r=Object(l.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"pm2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pm2"}},[v._v("#")]),v._v(" PM2")]),v._v(" "),t("p",[v._v("pm2是一个带有负载均衡功能的node应用的进程管理器")]),v._v(" "),t("p",[v._v("特性：")]),v._v(" "),t("ul",[t("li",[v._v("启动多 子进程，充分利用CPU")]),v._v(" "),t("li",[v._v("子进程之间负载均衡")]),v._v(" "),t("li",[v._v("0秒重启")]),v._v(" "),t("li",[v._v("界面友好")]),v._v(" "),t("li",[v._v("提供进程交互接口")])]),v._v(" "),t("h2",{attrs:{id:"依据什么重启服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#依据什么重启服务"}},[v._v("#")]),v._v(" 依据什么重启服务")]),v._v(" "),t("p",[v._v("pm2采用"),t("strong",[v._v("心跳检测")]),v._v(" 查看子进程是否处于活跃状态")]),v._v(" "),t("p",[v._v("跳检测原理：")]),v._v(" "),t("ul",[t("li",[v._v("每秒向子进程发送心跳包，如果子进程不回复，就调用"),t("code",[v._v("kill")]),v._v("杀死这个进程，再重新"),t("code",[v._v("cluster.fork()")]),v._v("一个新进程")]),v._v(" "),t("li",[v._v("子进程可以监听错误事件，然后发送给主进程，请求杀死自己，主进程再重新"),t("code",[v._v("cluster.fork()")]),v._v("一个新子进程")])]),v._v(" "),t("h2",{attrs:{id:"常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[v._v("#")]),v._v(" 常用命令")]),v._v(" "),t("p",[v._v("pm2 ~~")]),v._v(" "),t("ul",[t("li",[v._v("start 启动")]),v._v(" "),t("li",[v._v("list 查看进程列表")]),v._v(" "),t("li",[v._v("delete 从进程中删除进程")]),v._v(" "),t("li",[v._v("describe 查看进程具体情况")]),v._v(" "),t("li",[v._v("monit 查看进程消耗情况（CPU和memory）")]),v._v(" "),t("li",[v._v("restart 重启")]),v._v(" "),t("li",[v._v("logs 日志")]),v._v(" "),t("li",[v._v("stop 停止应用")]),v._v(" "),t("li",[v._v("kill 杀死进程")])]),v._v(" "),t("h2",{attrs:{id:"保持程序不中断运行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#保持程序不中断运行"}},[v._v("#")]),v._v(" 保持程序不中断运行")]),v._v(" "),t("p",[t("code",[v._v("pm2 restart all")])])])}),[],!1,null,null,null);_.default=r.exports}}]);