(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{554:function(r,v,e){"use strict";e.r(v);var _=e(2),a=Object(_.a)({},(function(){var r=this,v=r.$createElement,e=r._self._c||v;return e("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[e("h1",{attrs:{id:"pwa"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pwa"}},[r._v("#")]),r._v(" PWA")]),r._v(" "),e("p",[r._v("PWA 全称 Progressive Web App，即渐进式 WEB 应用")]),r._v(" "),e("h2",{attrs:{id:"一、浏览器一般有三类-worker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、浏览器一般有三类-worker"}},[r._v("#")]),r._v(" 一、浏览器一般有三类 Worker,")]),r._v(" "),e("ol",[e("li",[r._v("Dedicated Worker (专用 worker)：只能被创建它的 JS 访问. 创建它的页面关闭, 它的生命周期就结束了.")]),r._v(" "),e("li",[r._v("Shared Worker (共享 worker)：可以被同一域名下的 JS 访问. 关联的页面都关闭时, 它的生命周期就结束了.")]),r._v(" "),e("li",[r._v("service worker（是事件驱动的 worker）：生命周期与页面无关. 关联页面未关闭时, 它也可以退出, 没有关联页面时, 它也可以启动.")])]),r._v(" "),e("h2",{attrs:{id:"二、service-worker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、service-worker"}},[r._v("#")]),r._v(" 二、service worker")]),r._v(" "),e("p",[r._v("ServiceWorker 生命周期的目的是,")]),r._v(" "),e("p",[r._v("实现离线优先.")]),r._v(" "),e("p",[r._v("在不打断现有 ServiceWorker 的情况下，准备好一个新的 ServiceWorker.")]),r._v(" "),e("p",[r._v("ServiceWorker 注册的 scope 下的页面, 同一时间只由一个 ServiceWorker 控制.")]),r._v(" "),e("p",[r._v("确保你的网站只有一个版本在运行.")]),r._v(" "),e("h3",{attrs:{id:"_2-1-特点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-特点"}},[r._v("#")]),r._v(" 2.1 特点")]),r._v(" "),e("ul",[e("li",[r._v("在页面中注册并安装成功后，运行于浏览器后台，不受页面刷新的影响，可以监听和截拦作用域范围内所有页面的 HTTP 请求。")]),r._v(" "),e("li",[r._v("网站必须使用 HTTPS。除了使用本地开发环境调试时(如域名使用 localhost)")]),r._v(" "),e("li",[r._v("运行于浏览器后台，可以控制打开的作用域范围下所有的页面请求")]),r._v(" "),e("li",[r._v("单独的作用域范围，单独的运行环境和执行线程")]),r._v(" "),e("li",[r._v("不能操作页面 DOM。但可以通过事件机制来处理")]),r._v(" "),e("li",[r._v("事件驱动型服务线程")])]),r._v(" "),e("h3",{attrs:{id:"_2-2-生命周期"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-生命周期"}},[r._v("#")]),r._v(" 2.2 生命周期")]),r._v(" "),e("p",[r._v("Service Worker 可能有以下几种状态：")]),r._v(" "),e("ol",[e("li",[r._v("解析成功（parsed）")]),r._v(" "),e("li",[r._v("正在安装（installing）")]),r._v(" "),e("li",[r._v("安装成功（installed）")]),r._v(" "),e("li",[r._v("正在激活（activating）")]),r._v(" "),e("li",[r._v("激活成功（activated）")]),r._v(" "),e("li",[r._v("废弃（redundant）")])]),r._v(" "),e("h2",{attrs:{id:"pwa-存在的问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pwa-存在的问题"}},[r._v("#")]),r._v(" PWA 存在的问题")]),r._v(" "),e("ul",[e("li",[r._v("支持率不高:现在 ios 手机端不支持 pwa，IE 也暂时不支持")]),r._v(" "),e("li",[r._v("Chrome 在中国桌面版占有率还是不错的，安卓移动端上的占有率却很低")]),r._v(" "),e("li",[r._v("各大厂商还未明确支持 pwa")]),r._v(" "),e("li",[r._v("依赖的 GCM 服务在国内无法使用")]),r._v(" "),e("li",[r._v("微信小程序的竞争")])]),r._v(" "),e("p",[r._v("总结：就是支持不太好")])])}),[],!1,null,null,null);v.default=a.exports}}]);