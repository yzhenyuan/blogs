(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{579:function(e,t,s){"use strict";s.r(t);var a=s(2),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"vite-å’Œ-vue3-çš„ä½¿ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vite-å’Œ-vue3-çš„ä½¿ç”¨"}},[e._v("#")]),e._v(" Vite å’Œ Vue3 çš„ä½¿ç”¨")]),e._v(" "),s("h2",{attrs:{id:"vite-ç‰¹ç‚¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vite-ç‰¹ç‚¹"}},[e._v("#")]),e._v(" Vite ç‰¹ç‚¹")]),e._v(" "),s("p",[e._v("ä¸€ä¸ªåŸºäºæµè§ˆå™¨åŸç”Ÿ module sciprt çš„å¼€å‘æœåŠ¡å™¨ã€‚åˆ©ç”¨æµè§ˆå™¨å»è§£æ importsï¼Œåœ¨æœåŠ¡å™¨ç«¯æŒ‰éœ€ç¼–è¯‘è¿”å›ï¼Œå®Œå…¨è·³è¿‡äº†æ‰“åŒ…è¿™ä¸ªæ¦‚å¿µã€‚å¯¹ Vue æ–‡ä»¶æ”¯æŒï¼Œè¿˜æå®šäº†çƒ­æ›´æ–°ï¼Œè€Œä¸”çƒ­æ›´æ–°çš„é€Ÿåº¦ä¸ä¼šéšç€æ¨¡å—å¢å¤šè€Œå˜æ…¢ã€‚é’ˆå¯¹ç”Ÿäº§ç¯å¢ƒåˆ™å¯ä»¥æŠŠåŒä¸€ä»½ä»£ç ç”¨ rollup æ‰“åŒ…")]),e._v(" "),s("ol",[s("li",[e._v("ç±»ä¼¼äº "),s("code",[e._v("webpack-dev-server")])]),e._v(" "),s("li",[e._v("åŸºäº "),s("code",[e._v("module sciprt")])]),e._v(" "),s("li",[e._v("çƒ­æ›´æ–°ä½¿ç”¨ "),s("code",[e._v("WebSocket")]),e._v(" ï¼ŒæœåŠ¡ç«¯ä½¿ç”¨Koaæ„å»º")]),e._v(" "),s("li",[e._v("æŒ‰éœ€ç¼–è¯‘ï¼Œå¼€å‘æ¨¡å¼ä¸‹ä¸éœ€è¦æ‰“åŒ…ï¼Œåªéœ€è¦ç¼–è¯‘æµè§ˆå™¨å‘å‡ºçš„ HTTP è¯·æ±‚å¯¹åº”çš„æ–‡ä»¶å³å¯ï¼Œæ‰€ä»¥çƒ­æ›´æ–°é€Ÿåº¦å¾ˆå¿«")]),e._v(" "),s("li",[e._v("æ‰“åŒ…ä½¿ç”¨ rollup")])]),e._v(" "),s("h3",{attrs:{id:"ğŸ‘‰-åŸºäº-module-sciprt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ‘‰-åŸºäº-module-sciprt"}},[e._v("#")]),e._v(" ğŸ‘‰ åŸºäº "),s("code",[e._v("module sciprt")])]),e._v(" "),s("p",[e._v("å¼€å‘æ¨¡å¼ä¸‹ æ‹¦æˆªæµè§ˆå™¨å‘å‡ºçš„ "),s("code",[e._v("module sciprt")]),e._v(" è¯·æ±‚å¹¶åšç›¸åº”å¤„ç†ï¼Œæ‹¦æˆªåä½¿ç”¨ "),s("code",[e._v("es-module-lexer")]),e._v("ï¼Œæ¥è¿›è¡Œçš„è¯­æ³•åˆ†æè·å– imports æ•°ç»„ï¼Œç„¶åå†åšçš„æ›¿æ¢")]),e._v(" "),s("p",[e._v("å½“å£°æ˜ä¸€ä¸ª script æ ‡ç­¾ç±»å‹ä¸º module æ—¶ï¼Œæµè§ˆå™¨å°†å¯¹å…¶å†…éƒ¨çš„ import å¼•ç”¨å‘èµ· HTTP è¯·æ±‚è·å–æ¨¡å—å†…å®¹")]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("script type"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"module"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'./a.js'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("h3",{attrs:{id:"ğŸ‘‰-çƒ­æ›´æ–°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ‘‰-çƒ­æ›´æ–°"}},[e._v("#")]),e._v(" ğŸ‘‰ çƒ­æ›´æ–°")]),e._v(" "),s("p",[e._v("è¦å®ç°çƒ­æ›´æ–°ï¼Œé‚£ä¹ˆå°±éœ€è¦æµè§ˆå™¨å’ŒæœåŠ¡å™¨å»ºç«‹æŸç§é€šä¿¡æœºåˆ¶ï¼Œè¿™æ ·æµè§ˆå™¨æ‰èƒ½æ”¶åˆ°é€šçŸ¥è¿›è¡Œçƒ­æ›´æ–°")]),e._v(" "),s("h4",{attrs:{id:"å®¢æˆ·ç«¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®¢æˆ·ç«¯"}},[e._v("#")]),e._v(" å®¢æˆ·ç«¯")]),e._v(" "),s("p",[e._v("Vite çš„æ˜¯é€šè¿‡ "),s("code",[e._v("WebSocket")]),e._v(" æ¥å®ç°çš„çƒ­æ›´æ–°é€šä¿¡ï¼Œä»£ç åœ¨ node_modules çš„"),s("code",[e._v("src/client.ts")]),e._v(" æ–‡ä»¶é‡Œ")]),e._v(" "),s("ul",[s("li",[e._v("vue-reload: ä¿®æ”¹äº† "),s("code",[e._v("script")]),e._v("ï¼Œç»„ä»¶é‡æ–°åŠ è½½")]),e._v(" "),s("li",[e._v("vue-rerender: ä¿®æ”¹äº†"),s("code",[e._v("template")]),e._v(" ,ç»„ä»¶é‡æ–°åŠ è½½")]),e._v(" "),s("li",[e._v("style-update: æ ·å¼æ›´æ–°")]),e._v(" "),s("li",[e._v("style-remove: æ ·å¼ç§»é™¤")]),e._v(" "),s("li",[e._v("js-update: js æ–‡ä»¶æ›´æ–°")]),e._v(" "),s("li",[e._v("full-reload: fallback æœºåˆ¶ï¼Œç½‘é¡µé‡åˆ·æ–°")])]),e._v(" "),s("h4",{attrs:{id:"æœåŠ¡ç«¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç«¯"}},[e._v("#")]),e._v(" æœåŠ¡ç«¯")]),e._v(" "),s("p",[e._v("ä¸»è¦æ¥å¸vueæ–‡ä»¶ç„¶åè§£æï¼Œå¯ä»¥ç›´æ¥ è¿è¡Œ vue æ–‡ä»¶ï¼ŒæŠŠåŸæœ¬ä¸€ä¸ª .vue çš„æ–‡ä»¶æ‹†æˆäº†ä¸‰ä¸ªè¯·æ±‚ï¼ˆåˆ†åˆ«å¯¹åº” scriptã€style å’Œ templateï¼‰ ï¼Œæµè§ˆå™¨ä¼šå…ˆæ”¶åˆ°åŒ…å« script é€»è¾‘çš„ App.vue çš„å“åº”ï¼Œç„¶åè§£æåˆ° template å’Œ style çš„è·¯å¾„åï¼Œä¼šå†æ¬¡å‘èµ· HTTP è¯·æ±‚æ¥è¯·æ±‚å¯¹åº”çš„èµ„æºï¼Œæ­¤æ—¶ Vite å¯¹å…¶æ‹¦æˆªå¹¶å†æ¬¡å¤„ç†åè¿”å›ç›¸åº”çš„å†…å®¹")]),e._v(" "),s("p",[e._v("vue-loaderæ¯”è¾ƒç±»ä¼¼ï¼Œå€ŸåŠ©module scriptå¤„ç†æ–‡ä»¶ä¾èµ–ï¼Œç„¶åé€šè¿‡æ‹¼æ¥ä¸åŒçš„query.typeå¤„ç†å•é¡µé¢æ–‡ä»¶è§£æåçš„å„ä¸ªèµ„æºæ–‡ä»¶ï¼Œæœ€åå“åº”ç»™æµè§ˆå™¨è¿›è¡Œæ¸²æŸ“")]),e._v(" "),s("h5",{attrs:{id:"hmrplugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hmrplugin"}},[e._v("#")]),e._v(" hmrPlugin")]),e._v(" "),s("p",[e._v("å½“æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒæœåŠ¡ç«¯åœ¨handleVueSFCReloadæ–¹æ³•ä¸­ä¼šæ ¹æ®å˜åŒ–çš„ç±»å‹æ¨é€ä¸åŒçš„æ¶ˆæ¯ï¼Œå½“å®¢æˆ·ç«¯æ¥æ”¶åˆ°å¯¹åº”æ¶ˆæ¯æ—¶ï¼Œä¼šç»“åˆvue.HMRRuntimeè¿›è¡Œå¤„ç†æˆ–è€…é‡æ–°åŠ è½½æ–°çš„èµ„æº")]),e._v(" "),s("h5",{attrs:{id:"serveplugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#serveplugin"}},[e._v("#")]),e._v(" servePlugin")]),e._v(" "),s("p",[e._v("ç”¨äºå®ç°ä¸€äº›koaè¯·æ±‚å’Œå“åº”çš„é…ç½®")]),e._v(" "),s("ul",[s("li",[e._v("å¯¹äºæ™®é€šæ–‡ä»¶ï¼Œç›´æ¥æŸ¥æ‰¾æœåŠ¡å™¨é™æ€èµ„æºï¼Œ é€šè¿‡servePluginä¸­é…ç½®koa-staticå®ç°")]),e._v(" "),s("li",[e._v("å¯¹äºvueæ–‡ä»¶ï¼Œä¼šé‡æ–°æ‹¼æ¥httpè¯·æ±‚ï¼Œå¯¹äºæ¯ä¸ªè¯·æ±‚ï¼ŒåŒ…æ‹¬pathå’Œqueryï¼Œå…¶ä¸­pathç”¨äºç¡®å®šç»„ä»¶æ–‡ä»¶ï¼Œquery.typeç”¨äºç¡®å®šå…·ä½“ä½¿ç”¨å•¥æ–¹æ³•æ¥è¿”å›å“åº”å†…å®¹")])]),e._v(" "),s("h2",{attrs:{id:"åœ¨vue3å¼€å‘ä¸­çš„é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨vue3å¼€å‘ä¸­çš„é—®é¢˜"}},[e._v("#")]),e._v(" åœ¨vue3å¼€å‘ä¸­çš„é—®é¢˜")]),e._v(" "),s("ol",[s("li",[e._v("å‹ç¼©ä½¿ç”¨ terserï¼Œå¯ä»¥é€‰æ‹© esbuild(ä¹‹å‰ Chrome80 ä»¥ä¸‹æœ‰ç‚¹é—®é¢˜)")]),e._v(" "),s("li",[e._v("ç±»å‹åˆ«å é”®å¿…é¡»ä»¥æ–œçº¿å¼€å§‹å’Œç»“æŸ")]),e._v(" "),s("li",[e._v("ç¯å¢ƒå˜é‡æš‚æ—¶æ²¡æœ‰æ³¨å…¥åˆ°é¡¹ç›®ä¸­ï¼Œä½¿ç”¨ node å†™å…¥æ–‡ä»¶é‡Œ")])]),e._v(" "),s("h2",{attrs:{id:"å’Œwebpack-çš„åŒºåˆ«"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å’Œwebpack-çš„åŒºåˆ«"}},[e._v("#")]),e._v(" å’Œwebpack çš„åŒºåˆ«")]),e._v(" "),s("ol",[s("li",[e._v("æœ¬èº«æ²¡æœ‰æ‰“åŒ…åŠŸèƒ½")]),e._v(" "),s("li",[e._v("åˆ©ç”¨"),s("code",[e._v("module sciprt")]),e._v("æŒ‰éœ€ç¼–è¯‘ï¼Œé¡¹ç›®éšèµ·éšç”¨")]),e._v(" "),s("li",[e._v("ä¸éœ€è¦å®‰è£…å¤ªå¤šä¾èµ–")])])])}),[],!1,null,null,null);t.default=r.exports}}]);