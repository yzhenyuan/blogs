# å‡½æ•°å¼ç¼–ç¨‹ â‘ 

"å‡½æ•°å¼ç¼–ç¨‹"æ˜¯ä¸€ç§"ç¼–ç¨‹èŒƒå¼"ï¼ˆprogramming paradigmï¼‰ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•ç¼–å†™ç¨‹åºçš„æ–¹æ³•è®ºã€‚

## ä¸€ã€å‡½æ•°å¼ç¼–ç¨‹çš„æ¦‚å¿µ

ğŸº ä¸»è¦æ€æƒ³æ˜¯æŠŠè¿ç®—è¿‡ç¨‹å°½é‡å†™æˆä¸€ç³»åˆ—åµŒå¥—çš„å‡½æ•°è°ƒç”¨ï¼Œç”¨æ•°å­¦çš„æ–¹å¼ç¼–ç¨‹

> éšç€ react é«˜é˜¶å‡½æ•°ï¼ˆHOCï¼‰è€Œç«çƒ­ï¼ˆ**_é«˜é˜¶ç»„ä»¶ç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªç»„ä»¶ä¼ ç»™å¦ä¸€ä¸ªç»„ä»¶ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶_**ï¼‰
> ä¾‹å¦‚ï¼šæœ€å¸¸ç”¨çš„å°±æ˜¯`map`å’Œ`reduce`

1. **å‡½æ•°æ˜¯"ç¬¬ä¸€ç­‰å…¬æ°‘"**ï¼šå‡½æ•°ä¸å…¶ä»–æ•°æ®ç±»å‹ä¸€æ ·ï¼Œå¯ä»¥èµ‹å€¼ç»™å…¶ä»–å˜é‡ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‚æ•°
2. **ä¸ä¿®æ”¹çŠ¶æ€**ï¼šè¿™é‡Œçš„å˜é‡åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­è¢«å‡½æ•°ä»£æ›¿äº†ï¼Œä»…ä»…ä»£è¡¨æŸä¸ªè¡¨è¾¾å¼ï¼Œè¿™é‡Œçš„å˜é‡æ˜¯ä¸èƒ½è¢«ä¿®æ”¹çš„ï¼Œéœ€è¦ä»€ä¹ˆå°± return å‡ºå»
3. **åªç”¨"è¡¨è¾¾å¼"ï¼Œä¸ç”¨"è¯­å¥"**ï¼šå‡½æ•°å¼ç¼–ç¨‹è¦æ±‚ï¼Œåªä½¿ç”¨è¡¨è¾¾å¼ï¼Œä¸ä½¿ç”¨è¯­å¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸€æ­¥éƒ½æ˜¯å•çº¯çš„è¿ç®—ï¼Œè€Œä¸”éƒ½æœ‰è¿”å›å€¼ã€‚
4. **æ²¡æœ‰"å‰¯ä½œç”¨"**ï¼šæ‰€è°“"å‰¯ä½œç”¨"ï¼ˆside effectï¼‰ï¼ŒæŒ‡çš„æ˜¯å‡½æ•°å†…éƒ¨ä¸å¤–éƒ¨äº’åŠ¨ï¼ˆæœ€å…¸å‹çš„æƒ…å†µï¼Œå°±æ˜¯ä¿®æ”¹å…¨å±€å˜é‡çš„å€¼ï¼‰ï¼Œäº§ç”Ÿè¿ç®—ä»¥å¤–çš„å…¶ä»–ç»“æœã€‚
5. **å¼•ç”¨é€æ˜**ï¼šæŒ‡çš„æ˜¯å‡½æ•°çš„è¿è¡Œä¸ä¾èµ–äºå¤–éƒ¨å˜é‡æˆ–"çŠ¶æ€"ï¼Œç›¸åŒè¾“å…¥æ€»æ˜¯ç›¸åŒè¾“å‡º

## äºŒã€çº¯å‡½æ•°

ç›¸åŒçš„è¾“å…¥ï¼Œæ°¸è¿œå¾—åˆ°ç›¸åŒçš„è¾“å‡ºï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•å¯è§‚æµ‹çš„å‰¯ä½œç”¨ï¼Œä¹Ÿä¸ä¾èµ–å¤–éƒ¨ç¯å¢ƒ

```js
// Array.slice()å°±æ˜¯çº¯å‡½æ•°

let arr = [1, 2, 3, 4, 5];
arr.slice(0, 3); //[1, 2, 3]
arr.slice(0, 3); //[1, 2, 3]
arr.slice(0, 3); //[1, 2, 3]
// æ¯æ¬¡éƒ½ä¼šå¾—åˆ°è¿™ä¸ªç»“æœ
```

### 2.1 ä¼˜ç¼ºç‚¹

å…·æœ‰å¯ç¼“å­˜æ€§

```js
import _ from 'lodash'
cont sin = _.memorize(x => Math.sin(x))

// ğŸ“š ç¬¬ä¸€æ¬¡ä¼šç¨æ…¢ä¸€ç‚¹
sin(1)
// ğŸ“š ç¬¬äºŒæ¬¡æœ‰äº†ç¼“å­˜å°±ä¼šå¾ˆå¿«
sin(1)
```s

```js
// ä¸çº¯çš„
let min = 10;
let checkAge = (age) => age > min;
// ğŸ“š checkAge ä¸ä»…å–å†³äº age è¿˜æœ‰å¤–éƒ¨ä¾èµ–çš„å˜é‡ min

// çº¯çš„ å‡½æ•°å¼

let checkAge = (age) => age > 10;
// ğŸ“š çº¯çš„ checkAge æŠŠæ•°å­— 10 å†™åœ¨å‡½æ•°å†…éƒ¨ï¼Œæ‰©å±•æ€§æ¯”è¾ƒå·®ï¼ŒæŸ¯é‡ŒåŒ–ä¼˜é›…çš„å‡½æ•°å¼è§£å†³
```

## ä¸‰ã€ååº”ç”¨å‡½æ•°ï¼ˆpartial applicationï¼‰

- ä¼ é€’ç»™å‡½æ•° ä¸€éƒ¨åˆ†å‚æ•° æ¥è°ƒç”¨å®ƒï¼Œè®©ä»– è¿”å›ä¸€ä¸ªå‡½æ•°å»å¤„ç† å‰©ä¸‹çš„å‚æ•°ï¼Œä¾‹å¦‚ï¼š`bind`
- åå‡½æ•°ä¹‹æ‰€ä»¥ å ï¼Œå°±åœ¨äºä»–åªèƒ½ å¤„ç†é‚£äº›èƒ½ä¸è‡³å°‘ä¸€ä¸ª case è¯­å¥åŒ¹é…çš„è¾“å…¥ï¼Œè€Œä¸èƒ½å¤„ç†æ‰€æœ‰å¯èƒ½çš„è¾“å…¥

### 3.1. å‡½æ•°çš„æŸ¯é‡ŒåŒ–

ğŸ† æŸ¯é‡ŒåŒ–ä¸»è¦ä¸ºäº†æ”¹å˜çº¯å‡½æ•°çš„ç¡¬ç¼–ç æ–¹å¼

1. æŸ¯é‡ŒåŒ–æ˜¯ååº”ç”¨å‡½æ•°çš„ä¸€ç§ï¼Œä»–æŠŠä¸€ä¸ª å¤šå‚çš„å‡½æ•° è½¬æ¢æˆä¸€ä¸ª åµŒå¥—ä¸€å…ƒå‡½æ•°çš„çš„è¿‡ç¨‹
2. ä¼ é€’ç»™å‡½æ•°ä¸€éƒ¨åˆ†å‚æ•°æ¥è°ƒç”¨å®ƒï¼Œè®©ä»–è¿”å›ä¸€ä¸ªå‡½æ•°å»å¤„ç†å‰©ä¸‹çš„å‚æ•°

```js
// ğŸ“š æŸ¯é‡ŒåŒ–æ”¹é€ ï¼Œå…ˆç©¿è¿›å»ä¸€ä¸ªå‚æ•°ï¼Œå†è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå†ä¼ å‰©ä½™çš„å‚æ•°
let checkAge = (min) => (age) => age > min;
let checkAge18 = checkAge(18);
checkAge18(20);
```

### 3.2 åæŸ¯é‡ŒåŒ–

**æŸ¯é‡ŒåŒ–**æ˜¯æ¥å—å°‘çš„å‚æ•°ï¼Œå»å¤„ç†å‰©ä¸‹çš„å‚æ•°ï¼Œè€Œ**åæŸ¯é‡ŒåŒ–**æ˜¯å°½å¯èƒ½å®ç°æ›´å¤šçš„å‚æ•°

åŒºåˆ«å°±åœ¨äºå¤šå‚å°‘å‚

å‡½æ•°æŸ¯é‡ŒåŒ–

```js
// æŸ¯é‡ŒåŒ–ä¹‹å‰
function add(x, y) {
  return x + y;
}
add(1, 2);

// æŸ¯é‡ŒåŒ–ä¹‹å
function add(y) {
  return function(x) {
    return x + y;
  };
}
add(1)(2);
```

### 3.3 æŸ¯é‡ŒåŒ–å’Œååº”ç”¨çš„åŒºåˆ«

æŸ¯é‡ŒåŒ–æ˜¯ä¸€ç§ é¢„åŠ è½½ å‡½æ•°çš„æ–¹æ³•ï¼Œé€šè¿‡è¾ƒå°‘çš„å‚æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªå·²ç»è®°ä½äº†è¿™äº›å‚æ•°çš„æ–°å‡½æ•°ï¼ŒæŸç§æ„ä¹‰ä¸Šæ˜¯å¯¹å‚æ•°çš„ç¼“å­˜

1. æŸ¯é‡ŒåŒ–çš„å‚æ•°åˆ—è¡¨æ˜¯ä»å·¦åˆ°å³çš„
2. å¦‚æœä¸èƒ½æ»¡è¶³æ­£å¸¸çš„ä»å·¦åˆ°å³å°±å¾—ä½¿ç”¨ååº”ç”¨å‡½æ•°äº†ï¼Œéœ€è¦é¢å¤–çš„å°è£…

## å››ã€å‡½æ•°ç»„åˆ

ä¸ºäº†ç»™å‡½æ•°è§£è€¦

çº¯å‡½æ•°ä»¥åŠæŸ¯é‡ŒåŒ–å†™å‡ºæ¥çš„ä»£ç `h(g(s(x)))`ï¼Œä¸å®¹æ˜“ç»´æŠ¤ï¼Œä¸ºäº†è§£å†³è¿™ç§å‡½æ•°åµŒå¥—çš„é—®é¢˜ï¼Œå°±éœ€è¦ç”¨åˆ° **å‡½æ•°ç»„åˆ**

å‡½æ•°ç»„åˆçš„æ•°æ®æµæ˜¯ ä»å³åˆ°å·¦ï¼Œå› ä¸ºå³è¾¹çš„å‡½æ•° é¦–å…ˆæ‰§è¡Œï¼Œå°†æ•°æ®ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå‡½æ•°ä»¥æ­¤ç±»æ¨

```js
// è®©å¤šä¸ªå‡½æ•°åƒæ‹¼æ¥æœ¨ä¸€æ ·
const compose = (f, g) => (x) => f(g(x));

const first = (arr) => arr[0];

const reverse = (arr) => arr.reverse();

const last = compose(first, reverse);

last([1, 2, 3, 4, 5]);
```

å‡½æ•°ç»„åˆä»£ç 

```js
compose(f, compose(g, h));
compose(compose(f, g), h);
compose(f, g, h);
```

## äº”ã€å‡½æ•°ç»„åˆå­

- ä¹‹å‰çš„å‡½æ•°ç»„åˆã€å‡½æ•°æŸ¯é‡ŒåŒ–éƒ½ åˆ†å±äº å‡½æ•°ç»„åˆå­

- å‡½æ•°ç»„åˆçš„æ•°æ®æµæ˜¯ ä»å³åˆ°å·¦ï¼Œå› ä¸ºå³è¾¹çš„å‡½æ•° é¦–å…ˆæ‰§è¡Œï¼Œå°†æ•°æ®ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå‡½æ•°ä»¥æ­¤ç±»æ¨ï¼Œå¦‚æœä¸æƒ³è¦ä»å³åˆ°å·¦çš„ï¼Œé‚£æˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ª pipeï¼ˆç§°ä½œ ç®¡é“ã€åºåˆ—ï¼‰æ¥å®ç°

ç»„åˆå­å¯ä»¥ç»„åˆå…¶ä»–å‡½æ•°ï¼Œä½œä¸ºæ§åˆ¶é€»è¾‘å•å…ƒçš„é«˜é˜¶å‡½æ•°ï¼Œ**ç»„åˆå­é€šå¸¸ä¸å£°æ˜ä»»ä½•å˜é‡ï¼Œä¹Ÿä¸åŒ…å«ä»»ä½•ä¸šåŠ¡é€»è¾‘**ï¼Œæ—¨åœ¨ç®¡ç†å‡½æ•°å‘ˆç°æ‰§è¡Œæµç¨‹ï¼Œå¹¶åœ¨é“¾å¼è°ƒç”¨ä¸­å¯¹ä¸­é—´ç»“æ„è¿›è¡Œæ“ä½œ

// åˆ†å±äº ski ç»„åˆå­

## å…­ã€Point Free

æŠŠä¸€äº›å¯¹è±¡è‡ªå¸¦çš„æ–¹æ³•è½¬åŒ–æˆçº¯å‡½æ•°ï¼Œä¸è¦å‘½åä¸­é—´å˜é‡

å‡½æ•°æ— é¡»æåŠå°†è¦æ“ä½œçš„æ•°æ®æ˜¯ä»€ä¹ˆæ ·çš„

```js
è¿™ä¸ªå‡½æ•°ä¸­ä½¿ç”¨äº† str ä½œä¸ºä¸­é—´å˜é‡ï¼Œä½†æ˜¯è¿™ä¸ªå˜é‡é™¤äº†ä»£ç é•¿ä¸€ç‚¹æ¯«æ— å…¶ä»–æ„ä¹‰
const f = str =>str.toUpperCase().split('')

// ğŸ¡ ç„¶åï¼Œ å¯ä»¥è½¬æ¢æˆä¸‹é¢ğŸ‘‡è¿™æ ·

const toUpperCase = word => str.toUpperCase()
const split = x => (str.split(x))

const f = compose(split(' '), toUpperCase)
f("acds cds")
```

## ğŸ´ å£°æ˜å¼ä¸å‘½ä»¤å¼ä»£ç 

```js
// å‘½ä»¤å¼
let list = [];
for (let i = 0; i < data.length; i++) {
  list.push(data[i].m);
}
// å£°æ˜å¼
let list = data.map((i) => i.m);
```

## ğŸ´ ç±» SQL æ•°æ®ï¼šå‡½æ•°æ—¢æ•°æ®

ä»¥å‡½æ•°å½¢å¼å¯¹æ•°æ®å»ºæ¨¡

## ğŸ· æƒ°æ€§é“¾ã€æƒ°æ€§æ±‚å€¼ã€æƒ°æ€§å‡½æ•°

## ğŸ´ ä¼˜ç‚¹

1. **ä»£ç ç®€æ´ï¼Œå¼€å‘å¿«é€Ÿ**ï¼šå‡½æ•°å¼ç¼–ç¨‹å¤§é‡ä½¿ç”¨å‡½æ•°ï¼Œå‡å°‘äº†ä»£ç çš„é‡å¤ï¼Œå› æ­¤ç¨‹åºæ¯”è¾ƒçŸ­ï¼Œå¼€å‘é€Ÿåº¦è¾ƒå¿«
2. **æ¥è¿‘è‡ªç„¶è¯­è¨€**ï¼Œæ˜“äºç†è§£
3. **æ›´æ–¹ä¾¿çš„ä»£ç ç®¡ç†**
4. **æ˜“äº"å¹¶å‘ç¼–ç¨‹"**
5. **ä»£ç çš„çƒ­å‡çº§**

1) ç°æœ‰çš„ reactã€redux åº“æ˜¯ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹
2) lodashã€underscore ç­‰åº“åŸç†
3) node ä¸­ koa çš„åŸç†
4) ä¸šåŠ¡é€»è¾‘æ¨¡å—çš„å°è£…


```js
const curry = (fn) => 
  (judge = (...args) =>
    args.length === fn.length
    ? fn(...args)
    : (...arg) => judge(...args, arg)
  )
const add = (a,b,c) => a+b+c
const curryAdd = curry(add)

curryAdd(1)(2)(3)
```