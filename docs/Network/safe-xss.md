
# 跨站脚本攻击XSS
XSS 是跨站脚本攻击（Cross Site Scripting）的简写，但是从首写字母命名的方式来看，应该取名 CSS，但这样就和层叠样式表CSS重名了，所以取名为 XSS。

XSS 攻击，一般是指**攻击者通过在网页中注入恶意脚本**，当用户浏览网页时，恶意脚本执行，控制用户浏览器行为的一种攻击方式。

## XSS 分类
XSS 攻击按是否把攻击数据存进服务器端，攻击行为是否伴随着攻击数据一直存在，可分为 **非持久型 XSS 攻击** 和 **持久型 XSS 攻击**。

XSS 攻击按攻击方式又可分为： 
1. 反射型 XSS（非持久型 XSS 攻击）
2. DOM 型 XSS（非持久型 XSS 攻击）
3. 存储型 XSS（持久型 XSS 攻击）

## 一、 反射型 XSS
反射型XSS，简单的把用户输入的数据"反射"给浏览器，
>即黑客往往需要诱使用户"点击"一个恶意链接攻击才能成功，用户通过点击这个恶意链接，攻击者可以成功获取用户隐私数据的一种方式。如："盗取用户Cookie信息"、"破坏页面结构"、"重定向到其他网站"，盗取内网IP等。 

那么既然反射型XSS也可以是HTML注入，那么它注入的关键自然也就从前端的HTML页面开始下手：
1. 用户能够与浏览器页面产生交互动作（输入搜索的关键词，点击按钮，点击链接等等），但这些都需要去诱使用户去操作，说起来容易，做起来难。
2. 用户输入的数据会被攻击方拼接出合适的html去执行恶意的js脚本，这样的过程就像是"一次反射"
## 二、 存储型 XSS
存储型XSS，与`反射型XSS`不同之处在于，它会将用户输入的数据"存储"在攻击方的服务器上，具有很强的"稳定性"。
例如：访问某黑客写下的一篇含有恶意JavaScript代码的博客文章，黑客把恶意脚本保存到服务端。



## 三、DOM based XSS
从效果上来说，也是"反射型XSS"，单独划分出来，是因为其形成是通过修改页面的"DOM节点"形成的XSS。
例如：通过修改DOM节点上的绑定方法，用户无意间通过点击、输入等行为执行这些方法获取到用户的相关信息



## 四、如何去检测是否存在XSS
一般方法是，用户可以在有关键字输入搜索的地方输入****后点击搜索，若弹框出现展示123，说明存在XSS漏洞，这就说明前端并没有对用户输入的内容过滤处理。

## 五、 防御方法
### 5.1 浏览器自带防御 （X-XSS-Protection ）
### 5.2 转义
### 5.3 过滤
### 5.4 内容安全策略（CSP）